# Database Configuration
DB_HOST=timescaledb
DB_PORT=5432
DB_USER=mluser
DB_PASSWORD=change_this_secure_password_in_production
DB_NAME=btc_ml

# Port Exposure Configuration
# ============================================================================
# SECURITY OPTIONS:
#
# Option 1: FULL ISOLATION (Recommended for production)
#   - Use: docker-compose -f docker-compose.isolated.yml up -d
#   - No ports exposed to host
#   - Access DB only via: docker exec btc-ml-db psql -U mluser -d btc_ml
#
# Option 2: EXPOSED PORT (for development/monitoring)
#   - Use: docker-compose up -d
#   - Set DB_EXTERNAL_PORT to desired port (default: 5432)
#   - Set DB_EXTERNAL_PORT="" or empty to disable exposure in default compose
#
# Option 3: CUSTOM PORT (avoid conflicts)
#   - Set DB_EXTERNAL_PORT=15432 (or any free port)
#   - Connect via: psql -h localhost -p 15432 -U mluser -d btc_ml
# ============================================================================

# Database external port (empty = no exposure, or set custom port)
# Examples:
#   DB_EXTERNAL_PORT=         (no external access)
#   DB_EXTERNAL_PORT=5432     (standard port)
#   DB_EXTERNAL_PORT=15432    (custom port)
DB_EXTERNAL_PORT=5432

# Chainlink Poller Configuration (PRIMARY PRICE SOURCE - Ground Truth)
CHAINLINK_FETCH_INTERVAL=60
CHAINLINK_API_URL=https://data.chain.link/streams/btc-usd
CHAINLINK_MAX_RETRIES=3
CHAINLINK_RETRY_DELAY=5

# Binance Configuration (OPTIONAL - Volume Data Only for Features)
BINANCE_API_ENABLED=false
BINANCE_API_BASE=https://api.binance.com/api/v3
BINANCE_SYMBOL=BTCUSDT
BINANCE_INTERVAL=1m

# Feature Engineer Configuration
FEATURE_CALCULATION_INTERVAL=60
FEATURE_LOOKBACK_MINUTES=100

# Training Configuration
TRAINING_SCHEDULE_CRON=0 2 * * *
TRAINING_LOOKBACK_MONTHS=12
LSTM_HIDDEN_SIZE=64
LSTM_NUM_LAYERS=2
LSTM_DROPOUT=0.2
LSTM_LEARNING_RATE=0.001
LSTM_EPOCHS=20
LSTM_BATCH_SIZE=64
XGB_MAX_DEPTH=6
XGB_N_ESTIMATORS=100
XGB_LEARNING_RATE=0.1
MODEL_PATH=/app/models/active

# Inference Configuration
INFERENCE_INTERVAL=60
INFERENCE_LOOKBACK_MINUTES=60
INFERENCE_LATENCY_WARNING_THRESHOLD=5

# CUDA/GPU Configuration
CUDA_VISIBLE_DEVICES=0

# Logging Configuration
LOG_LEVEL=INFO
LOG_MAX_SIZE_MB=100
LOG_MAX_FILES=10
LOG_DIR=/app/logs

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9090

# Security
ENABLE_SSL=false
SSL_CERT_PATH=/app/certs/cert.pem
SSL_KEY_PATH=/app/certs/key.pem
